name: deploy_to_lamda

on:
  push:
    branches:
    - main
jobs:
  my_job:
    name: lamda_deployment
    runs-on: ubuntu-22.04
    steps:
     - uses: actions/checkout@v4
     - name: list all the files
       run: ls -larth
     - name: zip a file
       run: zip python.zip lambda_function.py
     - name: list all the files
       run: ls -larth
     - name: aws_lambdacli
       env:
         AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY  }}
         AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
         AWS_DEFAULT_REGION: us-east-1
         run: aws lambda update-function-code --function-name githubworkflowfunction --zip-file fileb://python.zip
     
